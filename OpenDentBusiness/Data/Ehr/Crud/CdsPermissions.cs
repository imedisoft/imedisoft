//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version: v4.0.30319
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using Imedisoft.Data.Models;
using MySql.Data.MySqlClient;
using System;
using System.Collections.Generic;

namespace Imedisoft.Data
{
    public partial class CdsPermissions
	{
		public static CdsPermission FromReader(MySqlDataReader dataReader)
		{
			return new CdsPermission
			{
				UserId = (long)dataReader["user_id"],
				SetupCDS = (Convert.ToInt32(dataReader["setup_cds"]) == 1),
				ShowCDS = (Convert.ToInt32(dataReader["show_cds"]) == 1),
				ShowInfoButton = (Convert.ToInt32(dataReader["show_info_button"]) == 1),
				EditBibliography = (Convert.ToInt32(dataReader["edit_bibliography"]) == 1),
				ProblemCDS = (Convert.ToInt32(dataReader["problem_cds"]) == 1),
				MedicationCDS = (Convert.ToInt32(dataReader["medication_cds"]) == 1),
				AllergyCDS = (Convert.ToInt32(dataReader["allergy_cds"]) == 1),
				DemographicCDS = (Convert.ToInt32(dataReader["demographic_cds"]) == 1),
				LabTestCDS = (Convert.ToInt32(dataReader["lab_test_cds"]) == 1),
				VitalCDS = (Convert.ToInt32(dataReader["vital_cds"]) == 1)
			};
		}

		/// <summary>
		/// Selects a single CdsPermission object from the database using the specified SQL command.
		/// </summary>
		/// <param name="command">The SELECT command to execute.</param>
		/// <param name="parameters">The (optional) command parameters.</param>
		public static CdsPermission SelectOne(string command, params MySqlParameter[] parameters)
			=> Database.SelectOne(command, FromReader, parameters);

		/// <summary>
		/// Selects the <see cref="CdsPermission"/> object with the specified key from the database.
		/// </summary>
		/// <param name="user_id">The primary key of the <see cref="CdsPermission"/> to select.</param>
		public static CdsPermission SelectOne(long user_id)
			=> SelectOne("SELECT * FROM `cds_permissions` WHERE `user_id` = " + user_id);

		/// <summary>
		/// Selects multiple <see cref="CdsPermission"/> objects from the database using the specified SQL command.
		/// </summary>
		/// <param name="command">The SELECT command to execute.</param>
		/// <param name="parameters">The (optional) command parameters.</param>
		public static IEnumerable<CdsPermission> SelectMany(string command, params MySqlParameter[] parameters)
			=> Database.SelectMany(command, FromReader, parameters);

		/// <summary>
		/// Inserts the specified <see cref="CdsPermission"/> into the database.
		/// </summary>
		/// <param name="cdsPermission">The <see cref="CdsPermission"/> to insert into the database.</param>
		private static void ExecuteInsert(CdsPermission cdsPermission)
			=> Database.ExecuteNonQuery(
				"INSERT INTO `cds_permissions` " +
				"(`user_id`, `setup_cds`, `show_cds`, `show_info_button`, `edit_bibliography`, `problem_cds`, `medication_cds`, `allergy_cds`, `demographic_cds`, `lab_test_cds`, `vital_cds`) " +
				"VALUES (" +
					"@user_id, @setup_cds, @show_cds, @show_info_button, @edit_bibliography, @problem_cds, @medication_cds, @allergy_cds, @demographic_cds, @lab_test_cds, @vital_cds" +
				")",
					new MySqlParameter("user_id", cdsPermission.UserId),
					new MySqlParameter("setup_cds", (cdsPermission.SetupCDS ? 1 : 0)),
					new MySqlParameter("show_cds", (cdsPermission.ShowCDS ? 1 : 0)),
					new MySqlParameter("show_info_button", (cdsPermission.ShowInfoButton ? 1 : 0)),
					new MySqlParameter("edit_bibliography", (cdsPermission.EditBibliography ? 1 : 0)),
					new MySqlParameter("problem_cds", (cdsPermission.ProblemCDS ? 1 : 0)),
					new MySqlParameter("medication_cds", (cdsPermission.MedicationCDS ? 1 : 0)),
					new MySqlParameter("allergy_cds", (cdsPermission.AllergyCDS ? 1 : 0)),
					new MySqlParameter("demographic_cds", (cdsPermission.DemographicCDS ? 1 : 0)),
					new MySqlParameter("lab_test_cds", (cdsPermission.LabTestCDS ? 1 : 0)),
					new MySqlParameter("vital_cds", (cdsPermission.VitalCDS ? 1 : 0)));

		/// <summary>
		/// Updates the specified <see cref="CdsPermission"/> in the database.
		/// </summary>
		/// <param name="cdsPermission">The <see cref="CdsPermission"/> to update.</param>
		private static void ExecuteUpdate(CdsPermission cdsPermission)
			=> Database.ExecuteNonQuery(
				"UPDATE `cds_permissions` SET " +
					"`setup_cds` = @setup_cds, " +
					"`show_cds` = @show_cds, " +
					"`show_info_button` = @show_info_button, " +
					"`edit_bibliography` = @edit_bibliography, " +
					"`problem_cds` = @problem_cds, " +
					"`medication_cds` = @medication_cds, " +
					"`allergy_cds` = @allergy_cds, " +
					"`demographic_cds` = @demographic_cds, " +
					"`lab_test_cds` = @lab_test_cds, " +
					"`vital_cds` = @vital_cds " +
				"WHERE `user_id` = @user_id",
					new MySqlParameter("user_id", cdsPermission.UserId),
					new MySqlParameter("setup_cds", (cdsPermission.SetupCDS ? 1 : 0)),
					new MySqlParameter("show_cds", (cdsPermission.ShowCDS ? 1 : 0)),
					new MySqlParameter("show_info_button", (cdsPermission.ShowInfoButton ? 1 : 0)),
					new MySqlParameter("edit_bibliography", (cdsPermission.EditBibliography ? 1 : 0)),
					new MySqlParameter("problem_cds", (cdsPermission.ProblemCDS ? 1 : 0)),
					new MySqlParameter("medication_cds", (cdsPermission.MedicationCDS ? 1 : 0)),
					new MySqlParameter("allergy_cds", (cdsPermission.AllergyCDS ? 1 : 0)),
					new MySqlParameter("demographic_cds", (cdsPermission.DemographicCDS ? 1 : 0)),
					new MySqlParameter("lab_test_cds", (cdsPermission.LabTestCDS ? 1 : 0)),
					new MySqlParameter("vital_cds", (cdsPermission.VitalCDS ? 1 : 0)));

		/// <summary>
		/// Deletes a single <see cref="CdsPermission"/> object from the database.
		/// </summary>
		/// <param name="user_id">The primary key of the <see cref="CdsPermission"/> to delete.</param>
		private static void ExecuteDelete(long user_id)
			 => Database.ExecuteNonQuery("DELETE FROM `cds_permissions` WHERE `user_id` = " + user_id);

		/// <summary>
		/// Deletes the specified <see cref="CdsPermission"/> object from the database.
		/// </summary>
		/// <param name="cdsPermission">The <see cref="CdsPermission"/> to delete.</param>
		private static void ExecuteDelete(CdsPermission cdsPermission)
			=> ExecuteDelete(cdsPermission.UserId);
	}
}
